<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AlliedRx â€“ Chapter 2: EHR vs Paper Records Decision Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <style>
    :root {
      --color-primary: #af4bef;
      --color-primary-soft: #d492ff;
      --color-accent: #8380f0;
      --color-success: #00b894;
      --color-warning: #fdcb6e;
      --color-error: #e17055;
      --color-bg: #f7f5fb;
      --color-text: #2b2b2b;
      --color-muted: #6c6880;
      --radius-lg: 24px;
      --radius-md: 16px;
      --radius-sm: 12px;
      --shadow-soft: 0 18px 45px rgba(23, 10, 61, 0.18);
      --shadow-medium: 0 12px 30px rgba(23, 10, 61, 0.12);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      width: 100%;
      overflow-x: hidden;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      padding: 24px;
      background: radial-gradient(
        circle at top left,
        #ffffff 0,
        #f1ecff 40%,
        var(--color-bg) 100%
      );
      color: var(--color-text);
      -webkit-text-size-adjust: 100%;
    }

    @media (max-width: 600px) {
      body {
        padding: 12px;
      }
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideOut {
      from {
        opacity: 1;
        transform: translateY(0);
      }
      to {
        opacity: 0;
        transform: translateY(-20px);
      }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes checkmarkPop {
      0% { transform: scale(0); opacity: 0; }
      70% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Main Page Container */
    .page {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      background: #ffffff;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 28px 30px 32px;
      display: flex;
      flex-direction: column;
      gap: 32px;
      position: relative;
      overflow: hidden;
      animation: fadeIn 0.6s ease-out;
    }

    @media (max-width: 900px) {
      .page {
        padding: 22px;
        gap: 28px;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 0;
      }
      .page {
        border-radius: 0;
        box-shadow: none;
        padding: 18px 14px 22px;
        gap: 24px;
      }
    }

    /* Header */
    .brand-row {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 14px;
      margin-bottom: 8px;
      flex-wrap: wrap;
      width: 100%;
      animation: fadeInUp 0.5s ease-out;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .brand-logo {
      height: 40px;
      width: auto;
      max-width: 100%;
      filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.2));
    }

    .course-meta {
      display: flex;
      flex-direction: column;
      gap: 2px;
      max-width: 100%;
    }

    .course-name {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--color-muted);
      white-space: normal;
    }

    .week-label {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(175, 75, 239, 0.08);
      font-size: 0.76rem;
      color: var(--color-primary);
      white-space: normal;
    }

    .week-label-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--color-success);
      flex-shrink: 0;
      animation: pulse 2s infinite;
    }

    .badge-mode {
      padding: 5px 10px;
      border-radius: 999px;
      background: rgba(12, 10, 24, 0.06);
      border: 1px solid rgba(12, 10, 24, 0.08);
      font-size: 0.74rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--color-muted);
      white-space: nowrap;
    }

    @media (max-width: 480px) {
      .brand-row {
        flex-direction: column;
        align-items: flex-start;
      }
      .badge-mode {
        margin-top: 6px;
      }
    }

    /* Module Header */
    .module-header {
      animation: fadeInUp 0.5s ease-out 0.1s both;
    }

    h1 {
      font-size: clamp(2rem, 3vw, 2.4rem);
      line-height: 1.05;
      color: var(--color-primary);
      margin-bottom: 6px;
    }

    .module-subtitle {
      font-size: 1.1rem;
      color: var(--color-muted);
      max-width: 800px;
      margin-bottom: 6px;
    }

    .module-description {
      font-size: 0.98rem;
      color: var(--color-muted);
      max-width: 800px;
      line-height: 1.6;
    }

    /* Progress Tracker */
    .progress-tracker {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 8px 0 20px;
      animation: fadeInUp 0.5s ease-out 0.2s both;
    }

    .progress-step {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.85rem;
      color: var(--color-muted);
    }

    .progress-step.active {
      color: var(--color-primary);
      font-weight: 600;
    }

    .progress-step.completed {
      color: var(--color-success);
    }

    .step-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      background: rgba(12, 10, 24, 0.06);
      color: var(--color-muted);
    }

    .progress-step.active .step-icon {
      background: var(--color-primary);
      color: white;
    }

    .progress-step.completed .step-icon {
      background: var(--color-success);
      color: white;
    }

    .step-divider {
      flex: 1;
      height: 2px;
      background: rgba(12, 10, 24, 0.1);
      margin: 0 8px;
    }

    /* Progress Summary */
    .progress-summary {
      display: flex;
      gap: 20px;
      margin-top: 16px;
      padding: 12px;
      background: rgba(175, 75, 239, 0.03);
      border-radius: var(--radius-sm);
      animation: fadeInUp 0.5s ease-out 0.3s both;
    }

    .progress-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    .progress-number {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--color-primary);
    }

    .progress-label {
      font-size: 0.75rem;
      color: var(--color-muted);
    }

    /* Interactive Grid */
    .interactive-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 24px;
      animation: fadeInUp 0.5s ease-out 0.4s both;
    }

    @media (max-width: 900px) {
      .interactive-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Comparison Tool */
    .comparison-tool {
      background: rgba(175, 75, 239, 0.03);
      border-radius: var(--radius-md);
      border: 1px solid rgba(175, 75, 239, 0.1);
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .tool-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .tool-icon {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: var(--color-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1rem;
    }

    .tool-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--color-text);
    }

    /* Source Area - Where cards start */
    .source-area {
      margin-bottom: 20px;
    }

    .source-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--color-muted);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .source-title::before {
      content: "â†’";
      color: var(--color-primary);
    }

    .comparison-cards {
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-height: 100px;
    }

    .comparison-card {
      background: white;
      border-radius: var(--radius-sm);
      padding: 14px 16px;
      border: 2px solid rgba(12, 10, 24, 0.08);
      cursor: grab;
      transition: all 0.3s ease;
      position: relative;
      user-select: none;
      animation: fadeInUp 0.3s ease;
    }

    .comparison-card:hover {
      transform: translateY(-2px);
      border-color: var(--color-primary-soft);
      box-shadow: var(--shadow-medium);
    }

    .comparison-card.dragging {
      opacity: 0.7;
      transform: rotate(3deg) scale(0.95);
    }

    .comparison-card.placed {
      opacity: 0.4;
      transform: scale(0.95);
      border-style: dashed;
    }

    .comparison-card.placed:hover {
      opacity: 0.7;
      transform: scale(0.95) translateY(-2px);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .card-type {
      font-size: 0.7rem;
      font-weight: 600;
      padding: 3px 8px;
      border-radius: 10px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .card-type.ehr {
      background: rgba(175, 75, 239, 0.1);
      color: var(--color-primary);
    }

    .card-type.paper {
      background: rgba(131, 128, 240, 0.1);
      color: var(--color-accent);
    }

    .card-content {
      font-size: 0.9rem;
      line-height: 1.4;
      color: var(--color-text);
    }

    .move-hint {
      font-size: 0.7rem;
      color: var(--color-muted);
      margin-top: 4px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .comparison-card:hover .move-hint {
      opacity: 1;
    }

    /* Drop Zones */
    .drop-zones {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    .drop-zone {
      min-height: 250px;
      border: 2px dashed rgba(12, 10, 24, 0.15);
      border-radius: var(--radius-md);
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.5);
    }

    .drop-zone.active {
      border-color: var(--color-primary);
      background: rgba(175, 75, 239, 0.03);
    }

    .drop-zone-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--color-text);
      text-align: center;
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(12, 10, 24, 0.1);
    }

    .drop-zone.ehr .drop-zone-title {
      color: var(--color-primary);
    }

    .drop-zone.paper .drop-zone-title {
      color: var(--color-accent);
    }

    .drop-zone-count {
      font-size: 0.85rem;
      color: var(--color-muted);
      text-align: center;
      margin-bottom: 12px;
    }

    .zone-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-height: 180px;
    }

    .zone-placeholder {
      font-size: 0.85rem;
      color: var(--color-muted);
      text-align: center;
      padding: 20px;
      opacity: 0.6;
    }

    .zone-card {
      background: white;
      border-radius: 8px;
      padding: 12px;
      border-left: 4px solid;
      animation: fadeInUp 0.3s ease;
      cursor: grab;
      transition: all 0.2s ease;
    }

    .zone-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .zone-card.ehr {
      border-left-color: var(--color-primary);
      background: rgba(175, 75, 239, 0.05);
    }

    .zone-card.paper {
      border-left-color: var(--color-accent);
      background: rgba(131, 128, 240, 0.05);
    }

    .zone-card .card-content {
      font-size: 0.85rem;
      line-height: 1.4;
    }

    .zone-card .move-hint {
      font-size: 0.65rem;
      color: var(--color-muted);
      margin-top: 2px;
    }

    /* Scenario Builder */
    .scenario-builder {
      background: rgba(12, 10, 24, 0.02);
      border-radius: var(--radius-md);
      border: 1px solid rgba(12, 10, 24, 0.08);
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .scenario-content {
      font-size: 0.95rem;
      line-height: 1.6;
      color: var(--color-text);
      padding: 16px;
      background: white;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(12, 10, 24, 0.06);
    }

    .decision-options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .decision-option {
      padding: 14px 16px;
      border: 2px solid rgba(12, 10, 24, 0.1);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      line-height: 1.5;
      color: var(--color-text);
    }

    .decision-option:hover {
      border-color: var(--color-primary-soft);
      background: rgba(175, 75, 239, 0.03);
    }

    .decision-option.selected {
      border-color: var(--color-primary);
      background: rgba(175, 75, 239, 0.08);
      animation: fadeInUp 0.3s ease;
    }

    .decision-feedback {
      padding: 16px;
      border-radius: var(--radius-sm);
      margin-top: 12px;
      font-size: 0.9rem;
      line-height: 1.6;
      display: none;
      animation: fadeIn 0.5s ease;
    }

    .feedback-correct {
      background: rgba(0, 184, 148, 0.1);
      border-left: 4px solid var(--color-success);
    }

    .feedback-incorrect {
      background: rgba(225, 112, 85, 0.1);
      border-left: 4px solid var(--color-error);
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 12px;
      margin-top: 24px;
      animation: fadeInUp 0.5s ease-out 0.5s both;
    }

    .btn {
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--color-primary);
      color: white;
    }

    .btn-primary:hover {
      background: #9a3ed8;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(175, 75, 239, 0.3);
    }

    .btn-secondary {
      background: rgba(12, 10, 24, 0.06);
      color: var(--color-text);
    }

    .btn-secondary:hover {
      background: rgba(12, 10, 24, 0.12);
      transform: translateY(-2px);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none !important;
    }

    /* Results Panel */
    .results-panel {
      background: rgba(12, 10, 24, 0.94);
      color: #e5e7eb;
      border-radius: var(--radius-md);
      padding: 24px;
      margin-top: 24px;
      display: none;
      animation: fadeIn 0.6s ease;
    }

    .results-panel.show {
      display: block;
    }

    .results-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .results-title {
      font-size: 1.3rem;
      font-weight: 800;
      color: #ffffff;
    }

    .results-content {
      font-size: 0.9rem;
      line-height: 1.7;
    }

    .results-content strong {
      color: #ffffff;
    }

    .score-display {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 20px 0;
      padding: 16px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: var(--radius-sm);
    }

    .score-value {
      font-size: 2rem;
      font-weight: 800;
      color: var(--color-primary-soft);
    }

    .score-text {
      font-size: 0.9rem;
      color: #c4b5fd;
    }

    /* Clinical Insight Card */
    .clinical-insight {
      margin-top: 20px;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(15, 23, 42, 0.7);
      padding: 16px;
      font-size: 0.85rem;
      color: #e5e7eb;
    }

    .clinical-insight strong {
      color: #fef3c7;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .interactive-grid {
        gap: 20px;
      }
      
      .comparison-tool,
      .scenario-builder {
        padding: 16px;
      }
      
      .drop-zones {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
      
      .progress-summary {
        flex-wrap: wrap;
        justify-content: center;
      }
    }

    @media (max-width: 480px) {
      .progress-tracker {
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .step-divider {
        display: none;
      }
    }
  </style>
</head>

<body>
  <main class="page" aria-labelledby="module-heading">
    <!-- Header -->
    <header class="brand-row">
      <div class="brand">
        <img
          src="https://cdn.prod.website-files.com/64d0ccc1558d601cbfb09021/64e9d2f719b1e5258e5d57f5_IMG_1512-p-500.png"
          alt="AlliedRx logo"
          class="brand-logo"
        />
        <div class="course-meta">
          <span class="course-name">Clinical Medical Assistant â€¢ Kinn's Chapter 2</span>
          <div class="week-label">
            <span class="week-label-dot"></span>
            <span>Interactive Module 1: EHR vs Paper Records</span>
          </div>
        </div>
      </div>

      <span class="badge-mode">Campus & Online</span>
    </header>

    <!-- Module Header -->
    <section class="module-header">
      <h1 id="module-heading">EHR vs Paper Records Decision Lab</h1>
      <p class="module-subtitle">Master the differences, advantages, and challenges of electronic and paper health records</p>
      <p class="module-description">
        This interactive module helps you understand when to recommend EHR vs paper systems, 
        how to address patient concerns about EHR security, and the steps for successful office conversion.
      </p>
    </section>

    <!-- Activity Progress Tracker -->
    <div class="progress-tracker">
      <div class="progress-step active">
        <span class="step-icon">1</span>
        <span>Comparison Analysis</span>
      </div>
      <div class="step-divider"></div>
      <div class="progress-step">
        <span class="step-icon">2</span>
        <span>Patient Scenario</span>
      </div>
      <div class="step-divider"></div>
      <div class="progress-step">
        <span class="step-icon">3</span>
        <span>Results & Feedback</span>
      </div>
    </div>

    <!-- Progress Summary -->
    <div class="progress-summary">
      <div class="progress-item">
        <span class="progress-number" id="remainingCount">10</span>
        <span class="progress-label">Remaining</span>
      </div>
      <div class="progress-item">
        <span class="progress-number" id="placedCount">0</span>
        <span class="progress-label">Placed</span>
      </div>
      <div class="progress-item">
        <span class="progress-number" id="correctCount">0</span>
        <span class="progress-label">Correct</span>
      </div>
      <div class="progress-item">
        <span class="progress-number" id="activityScore">0%</span>
        <span class="progress-label">Score</span>
      </div>
    </div>

    <!-- Interactive Grid -->
    <div class="interactive-grid">
      <!-- Left: Comparison Tool -->
      <section class="comparison-tool" aria-label="EHR vs Paper Records Comparison">
        <div class="tool-header">
          <div class="tool-icon">â†”</div>
          <h2 class="tool-title">Drag & Drop Comparison</h2>
        </div>
        
        <p style="font-size: 0.9rem; color: var(--color-muted); margin-bottom: 16px;">
          Drag each characteristic to the correct column (EHR or Paper Records). 
          Drag placed items back to source or between columns to make changes.
        </p>
        
        <!-- Source Area -->
        <div class="source-area">
          <div class="source-title">Available Characteristics</div>
          <div class="comparison-cards" id="sourceCards">
            <!-- Characteristics in source area -->
            <div class="comparison-card ehr" id="card-1" draggable="true" data-correct="ehr">
              <div class="card-header">
                <span class="card-type ehr">EHR</span>
                <span style="font-size: 0.7rem; color: var(--color-primary);">Click & Drag</span>
              </div>
              <div class="card-content">Multiple users can access simultaneously</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card paper" id="card-2" draggable="true" data-correct="paper">
              <div class="card-header">
                <span class="card-type paper">PAPER</span>
                <span style="font-size: 0.7rem; color: var(--color-accent);">Click & Drag</span>
              </div>
              <div class="card-content">Prone to physical damage or loss</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card ehr" id="card-3" draggable="true" data-correct="ehr">
              <div class="card-header">
                <span class="card-type ehr">EHR</span>
                <span style="font-size: 0.7rem; color: var(--color-primary);">Click & Drag</span>
              </div>
              <div class="card-content">Requires password protection and encryption</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card paper" id="card-4" draggable="true" data-correct="paper">
              <div class="card-header">
                <span class="card-type paper">PAPER</span>
                <span style="font-size: 0.7rem; color: var(--color-accent);">Click & Drag</span>
              </div>
              <div class="card-content">Easier to misfile or lose</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card ehr" id="card-5" draggable="true" data-correct="ehr">
              <div class="card-header">
                <span class="card-type ehr">EHR</span>
                <span style="font-size: 0.7rem; color: var(--color-primary);">Click & Drag</span>
              </div>
              <div class="card-content">Can generate automatic reminders</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card paper" id="card-6" draggable="true" data-correct="paper">
              <div class="card-header">
                <span class="card-type paper">PAPER</span>
                <span style="font-size: 0.7rem; color: var(--color-accent);">Click & Drag</span>
              </div>
              <div class="card-content">Legibility depends on handwriting</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card ehr" id="card-7" draggable="true" data-correct="ehr">
              <div class="card-header">
                <span class="card-type ehr">EHR</span>
                <span style="font-size: 0.7rem; color: var(--color-primary);">Click & Drag</span>
              </div>
              <div class="card-content">Supports e-prescribing</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card paper" id="card-8" draggable="true" data-correct="paper">
              <div class="card-header">
                <span class="card-type paper">PAPER</span>
                <span style="font-size: 0.7rem; color: var(--color-accent);">Click & Drag</span>
              </div>
              <div class="card-content">No power required for access</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card ehr" id="card-9" draggable="true" data-correct="ehr">
              <div class="card-header">
                <span class="card-type ehr">EHR</span>
                <span style="font-size: 0.7rem; color: var(--color-primary);">Click & Drag</span>
              </div>
              <div class="card-content">Automatic backup to secure servers</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
            
            <div class="comparison-card paper" id="card-10" draggable="true" data-correct="paper">
              <div class="card-header">
                <span class="card-type paper">PAPER</span>
                <span style="font-size: 0.7rem; color: var(--color-accent);">Click & Drag</span>
              </div>
              <div class="card-content">Requires physical storage space</div>
              <div class="move-hint">Drag to EHR or Paper column</div>
            </div>
          </div>
        </div>
        
        <!-- Drop Zones -->
        <div class="drop-zones">
          <div class="drop-zone ehr" id="ehrZone" data-type="ehr">
            <div class="drop-zone-title">Electronic Health Records (EHR)</div>
            <div class="drop-zone-count" id="ehrCount">0 items</div>
            <div class="zone-content" id="ehrContent">
              <div class="zone-placeholder">Drag EHR characteristics here</div>
            </div>
          </div>
          
          <div class="drop-zone paper" id="paperZone" data-type="paper">
            <div class="drop-zone-title">Paper Records</div>
            <div class="drop-zone-count" id="paperCount">0 items</div>
            <div class="zone-content" id="paperContent">
              <div class="zone-placeholder">Drag paper characteristics here</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Right: Scenario Builder -->
      <section class="scenario-builder" aria-label="Patient Scenario Decision">
        <div class="tool-header">
          <div class="tool-icon">ðŸ‘¥</div>
          <h2 class="tool-title">Patient Concern Scenario</h2>
        </div>
        
        <div class="scenario-content">
          <p><strong>Scenario:</strong> Mrs. Johnson, a 68-year-old patient, expresses concern about her health records being converted to electronic format. She says, "I don't want my private medical information floating around on the internet where anyone can see it. Can't you just keep my paper records?"</p>
          <p><strong>Your task:</strong> Choose the best response to address her concerns professionally.</p>
        </div>
        
        <div class="decision-options">
          <div class="decision-option" data-correct="false">
            "You're right to worry. Electronic records aren't very secure. I'll make sure we keep yours on paper."
          </div>
          <div class="decision-option" data-correct="true">
            "I understand your concern. Let me explain our security measures, including password protection, encryption, and HIPAA compliance. Would you like to see how we protect your information?"
          </div>
          <div class="decision-option" data-correct="false">
            "It's office policy. Everyone has to switch. You don't have a choice."
          </div>
          <div class="decision-option" data-correct="true">
            "Electronic records actually enhance privacy with controlled access. Only authorized staff can view your records, and we track every access. Would you like me to show you our privacy features?"
          </div>
        </div>
        
        <div class="decision-feedback" id="scenarioFeedback"></div>
      </section>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn btn-secondary" id="resetBtn">
        <span>â†»</span>
        Reset Activity
      </button>
      <button class="btn btn-primary" id="checkBtn" disabled>
        <span>âœ“</span>
        Check Answers
      </button>
    </div>

    <!-- Results Panel -->
    <div class="results-panel" id="resultsPanel">
      <div class="results-header">
        <div class="tool-icon" style="background: var(--color-success);">âœ“</div>
        <h3 class="results-title">Activity Complete!</h3>
      </div>
      
      <div class="results-content">
        <p>Great job! You've successfully completed the <strong>EHR vs Paper Records Decision Lab</strong>.</p>
        
        <div class="score-display">
          <div class="score-value" id="scoreValue">0%</div>
          <div class="score-text" id="scoreText">Complete the activities to see your score</div>
        </div>
        
        <p><strong>Key Takeaways:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; margin-bottom: 16px;">
          <li>EHRs offer better security through controlled access and audit trails</li>
          <li>Paper records are more prone to physical loss and unauthorized viewing</li>
          <li>Patient education is crucial for EHR acceptance</li>
          <li>HIPAA applies equally to electronic and paper formats</li>
        </ul>
        
        <div class="clinical-insight">
          <strong>Clinical Insight:</strong> In practice, most facilities use a hybrid approach during EHR conversion. 
          Always document the patient's concerns and your educational efforts in their record. Remember: 
          "If it's not documented, it didn't happen."
        </div>
      </div>
    </div>
  </main>

  <script>
    // State Management
    let draggedCard = null;
    let placedCards = { 
      ehr: [],    // Array of card IDs in EHR zone
      paper: [],  // Array of card IDs in Paper zone
      source: ['card-1', 'card-2', 'card-3', 'card-4', 'card-5', 'card-6', 'card-7', 'card-8', 'card-9', 'card-10'] // All cards start in source
    };
    
    let correctPlacements = {};
    let scenarioSelected = null;
    let scenarioAnswered = false;
    let totalScore = 0;

    // Correct answers mapping
    const correctAnswers = {
      'card-1': 'ehr',
      'card-2': 'paper',
      'card-3': 'ehr',
      'card-4': 'paper',
      'card-5': 'ehr',
      'card-6': 'paper',
      'card-7': 'ehr',
      'card-8': 'paper',
      'card-9': 'ehr',
      'card-10': 'paper'
    };

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      setupEventListeners();
      updateUI();
    });

    // Setup Event Listeners
    function setupEventListeners() {
      // Drag and drop for source cards
      document.querySelectorAll('#sourceCards .comparison-card').forEach(card => {
        card.addEventListener('dragstart', handleDragStart);
        card.addEventListener('dragend', handleDragEnd);
      });

      // Drop zones
      document.querySelectorAll('.drop-zone').forEach(zone => {
        zone.addEventListener('dragover', handleDragOver);
        zone.addEventListener('dragenter', handleDragEnter);
        zone.addEventListener('dragleave', handleDragLeave);
        zone.addEventListener('drop', handleDrop);
      });

      // Scenario options
      document.querySelectorAll('.decision-option').forEach(option => {
        option.addEventListener('click', handleScenarioSelect);
      });

      // Buttons
      document.getElementById('resetBtn').addEventListener('click', resetActivity);
      document.getElementById('checkBtn').addEventListener('click', checkAnswers);
    }

    // Drag and Drop Functions
    function handleDragStart(e) {
      draggedCard = this;
      this.classList.add('dragging');
      e.dataTransfer.setData('text/plain', this.id);
      
      // Visual feedback
      setTimeout(() => {
        this.style.opacity = '0.4';
      }, 0);
    }

    function handleDragEnd() {
      this.classList.remove('dragging');
      this.style.opacity = '1';
      draggedCard = null;
    }

    function handleDragOver(e) {
      e.preventDefault();
    }

    function handleDragEnter(e) {
      e.preventDefault();
      this.classList.add('active');
    }

    function handleDragLeave() {
      this.classList.remove('active');
    }

    function handleDrop(e) {
      e.preventDefault();
      this.classList.remove('active');
      
      if (draggedCard) {
        const cardId = draggedCard.id;
        const zoneType = this.dataset.type;
        
        // Remove from previous location
        removeCardFromAllZones(cardId);
        
        // Add to new zone
        if (zoneType === 'ehr' || zoneType === 'paper') {
          placedCards[zoneType].push(cardId);
          moveCardToZone(cardId, zoneType);
        } else {
          // If dropping back to source (not implemented here, but could be)
          placedCards.source.push(cardId);
          moveCardToSource(cardId);
        }
        
        // Update UI
        updateUI();
      }
    }

    // Remove card from all zones
    function removeCardFromAllZones(cardId) {
      // Remove from source
      const sourceIndex = placedCards.source.indexOf(cardId);
      if (sourceIndex > -1) {
        placedCards.source.splice(sourceIndex, 1);
      }
      
      // Remove from EHR
      const ehrIndex = placedCards.ehr.indexOf(cardId);
      if (ehrIndex > -1) {
        placedCards.ehr.splice(ehrIndex, 1);
      }
      
      // Remove from Paper
      const paperIndex = placedCards.paper.indexOf(cardId);
      if (paperIndex > -1) {
        placedCards.paper.splice(paperIndex, 1);
      }
    }

    // Move card to a zone (visual update)
    function moveCardToZone(cardId, zoneType) {
      const card = document.getElementById(cardId);
      const zoneContent = document.getElementById(`${zoneType}Content`);
      const placeholder = zoneContent.querySelector('.zone-placeholder');
      
      // Remove placeholder if cards exist
      if (placedCards[zoneType].length === 1 && placeholder) {
        placeholder.remove();
      }
      
      // Create zone card
      const zoneCard = document.createElement('div');
      zoneCard.className = `zone-card ${zoneType}`;
      zoneCard.id = `zone-${cardId}`;
      zoneCard.draggable = true;
      zoneCard.innerHTML = `
        <div class="card-content">${card.querySelector('.card-content').textContent}</div>
        <div class="move-hint">Drag to move or remove</div>
      `;
      
      // Add drag events to zone card
      zoneCard.addEventListener('dragstart', handleDragStart);
      zoneCard.addEventListener('dragend', handleDragEnd);
      
      // Add to zone
      zoneContent.appendChild(zoneCard);
      
      // Update source card appearance
      card.classList.add('placed');
      card.style.display = 'none'; // Hide from source area
      
      // Update progress tracker
      updateProgressTracker();
    }

    // Move card back to source (for future enhancement)
    function moveCardToSource(cardId) {
      const card = document.getElementById(cardId);
      card.classList.remove('placed');
      card.style.display = 'block';
      
      // Remove zone card
      const zoneCard = document.getElementById(`zone-${cardId}`);
      if (zoneCard) {
        zoneCard.remove();
      }
      
      // Update progress tracker
      updateProgressTracker();
    }

    // Scenario Selection
    function handleScenarioSelect() {
      if (scenarioAnswered) return;
      
      // Remove previous selection
      document.querySelectorAll('.decision-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      
      // Add new selection
      this.classList.add('selected');
      scenarioSelected = this;
      
      // Show feedback
      const feedback = document.getElementById('scenarioFeedback');
      const isCorrect = this.dataset.correct === 'true';
      
      feedback.className = `decision-feedback ${isCorrect ? 'feedback-correct' : 'feedback-incorrect'}`;
      feedback.innerHTML = isCorrect 
        ? `<strong>Correct!</strong> This response addresses the patient's concerns while educating them about EHR security measures. Always validate patient concerns and provide factual information.`
        : `<strong>Consider this:</strong> This response ${this.dataset.correct === 'false' ? 'dismisses valid concerns or provides incorrect information' : 'could be improved with more patient education'}. Remember: Patient trust is built through transparency and education.`;
      
      feedback.style.display = 'block';
      scenarioAnswered = true;
      
      // Update progress tracker
      updateProgressTracker();
      
      // Update UI
      updateUI();
    }

    // Update UI
    function updateUI() {
      // Update counts
      const remaining = placedCards.source.length;
      const placed = 10 - remaining;
      const correct = calculateCorrectPlacements();
      const activityScore = calculateActivityScore();
      
      document.getElementById('remainingCount').textContent = remaining;
      document.getElementById('placedCount').textContent = placed;
      document.getElementById('correctCount').textContent = correct;
      document.getElementById('activityScore').textContent = `${activityScore}%`;
      
      // Update zone counts
      document.getElementById('ehrCount').textContent = `${placedCards.ehr.length} item${placedCards.ehr.length !== 1 ? 's' : ''}`;
      document.getElementById('paperCount').textContent = `${placedCards.paper.length} item${placedCards.paper.length !== 1 ? 's' : ''}`;
      
      // Show/hide placeholders
      updateZonePlaceholders();
      
      // Enable check button if all cards placed and scenario answered
      const allCardsPlaced = placed === 10;
      document.getElementById('checkBtn').disabled = !(allCardsPlaced && scenarioAnswered);
    }

    // Update progress tracker
    function updateProgressTracker() {
      const placed = 10 - placedCards.source.length;
      const progressSteps = document.querySelectorAll('.progress-step');
      
      // Update step 1 (Comparison Analysis)
      if (placed > 0) {
        progressSteps[0].classList.add('completed');
        progressSteps[0].classList.remove('active');
        progressSteps[1].classList.add('active');
      }
      
      // Update step 2 (Patient Scenario)
      if (scenarioAnswered) {
        progressSteps[1].classList.add('completed');
        progressSteps[1].classList.remove('active');
        progressSteps[2].classList.add('active');
      }
    }

    // Calculate correct placements
    function calculateCorrectPlacements() {
      let correct = 0;
      
      // Check EHR placements
      placedCards.ehr.forEach(cardId => {
        if (correctAnswers[cardId] === 'ehr') {
          correct++;
        }
      });
      
      // Check paper placements
      placedCards.paper.forEach(cardId => {
        if (correctAnswers[cardId] === 'paper') {
          correct++;
        }
      });
      
      return correct;
    }

    // Calculate activity score
    function calculateActivityScore() {
      const correctPlacements = calculateCorrectPlacements();
      const scenarioScore = scenarioSelected && scenarioSelected.dataset.correct === 'true' ? 1 : 0;
      
      // 70% for drag & drop, 30% for scenario
      const dragDropScore = (correctPlacements / 10) * 70;
      const scenarioPoints = scenarioScore * 30;
      
      return Math.round(dragDropScore + scenarioPoints);
    }

    // Update zone placeholders
    function updateZonePlaceholders() {
      const zones = ['ehr', 'paper'];
      
      zones.forEach(zone => {
        const zoneContent = document.getElementById(`${zone}Content`);
        const placeholder = zoneContent.querySelector('.zone-placeholder');
        
        if (placedCards[zone].length === 0 && !placeholder) {
          // Add placeholder if empty
          const newPlaceholder = document.createElement('div');
          newPlaceholder.className = 'zone-placeholder';
          newPlaceholder.textContent = `Drag ${zone === 'ehr' ? 'EHR' : 'paper'} characteristics here`;
          zoneContent.appendChild(newPlaceholder);
        } else if (placedCards[zone].length > 0 && placeholder) {
          // Remove placeholder if has cards
          placeholder.remove();
        }
      });
    }

    // Check Answers
    function checkAnswers() {
      // Calculate comparison score
      const correctPlacements = calculateCorrectPlacements();
      const comparisonScore = (correctPlacements / 10) * 100; // 100% max
      
      // Calculate scenario score
      const scenarioScore = scenarioSelected && scenarioSelected.dataset.correct === 'true' ? 100 : 0;
      
      // Calculate total score (weighted: 70% comparison, 30% scenario)
      totalScore = Math.round((comparisonScore * 0.7) + (scenarioScore * 0.3));
      
      // Visual feedback for placements
      placedCards.ehr.forEach(cardId => {
        const isCorrect = correctAnswers[cardId] === 'ehr';
        const zoneCard = document.getElementById(`zone-${cardId}`);
        if (zoneCard) {
          zoneCard.style.borderLeftColor = isCorrect ? 'var(--color-success)' : 'var(--color-error)';
          zoneCard.style.background = isCorrect ? 'rgba(0, 184, 148, 0.1)' : 'rgba(225, 112, 85, 0.1)';
        }
      });
      
      placedCards.paper.forEach(cardId => {
        const isCorrect = correctAnswers[cardId] === 'paper';
        const zoneCard = document.getElementById(`zone-${cardId}`);
        if (zoneCard) {
          zoneCard.style.borderLeftColor = isCorrect ? 'var(--color-success)' : 'var(--color-error)';
          zoneCard.style.background = isCorrect ? 'rgba(0, 184, 148, 0.1)' : 'rgba(225, 112, 85, 0.1)';
        }
      });
      
      // Update progress tracker to completed
      document.querySelectorAll('.progress-step').forEach(step => {
        step.classList.add('completed');
        step.classList.remove('active');
      });
      
      // Show results
      showResults();
    }

    // Show Results
    function showResults() {
      const resultsPanel = document.getElementById('resultsPanel');
      const scoreValue = document.getElementById('scoreValue');
      const scoreText = document.getElementById('scoreText');
      
      resultsPanel.classList.add('show');
      
      // Animate score counter
      let currentScore = 0;
      const increment = totalScore / 20; // Animate over 20 steps
      const timer = setInterval(() => {
        currentScore += increment;
        if (currentScore >= totalScore) {
          currentScore = totalScore;
          clearInterval(timer);
        }
        scoreValue.textContent = `${Math.round(currentScore)}%`;
      }, 50);
      
      // Set score text
      if (totalScore >= 90) {
        scoreText.textContent = "Excellent! You've mastered EHR vs Paper comparisons";
      } else if (totalScore >= 80) {
        scoreText.textContent = "Very good! Strong understanding of key differences";
      } else if (totalScore >= 70) {
        scoreText.textContent = "Good job! You understand the main concepts";
      } else if (totalScore >= 60) {
        scoreText.textContent = "Keep practicing! Review the characteristics";
      } else {
        scoreText.textContent = "Try again! Review Chapter 2 content";
      }
    }

    // Reset Activity
    function resetActivity() {
      // Reset state
      placedCards = { 
        ehr: [], 
        paper: [], 
        source: ['card-1', 'card-2', 'card-3', 'card-4', 'card-5', 'card-6', 'card-7', 'card-8', 'card-9', 'card-10']
      };
      
      correctPlacements = {};
      scenarioSelected = null;
      scenarioAnswered = false;
      totalScore = 0;
      
      // Reset cards in source area
      document.querySelectorAll('#sourceCards .comparison-card').forEach(card => {
        card.classList.remove('placed');
        card.style.display = 'block';
        card.style.opacity = '1';
      });
      
      // Clear zone cards
      document.getElementById('ehrContent').innerHTML = '<div class="zone-placeholder">Drag EHR characteristics here</div>';
      document.getElementById('paperContent').innerHTML = '<div class="zone-placeholder">Drag paper characteristics here</div>';
      
      // Reset scenario
      document.querySelectorAll('.decision-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      
      document.getElementById('scenarioFeedback').style.display = 'none';
      document.getElementById('resultsPanel').classList.remove('show');
      
      // Reset progress tracker
      document.querySelectorAll('.progress-step').forEach((step, index) => {
        step.classList.remove('completed', 'active');
        if (index === 0) {
          step.classList.add('active');
        }
      });
      
      // Reset UI
      updateUI();
      
      // Reset button
      document.getElementById('checkBtn').disabled = true;
    }
  </script>
</body>
</html>
