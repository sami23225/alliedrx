<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AlliedRx -- Module 3: Skin Cancer Screening Clinic</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root {
    --color-primary: #af4bef;
    --color-primary-soft: #d492ff;
    --color-accent: #8380f0;
    --color-success: #00b894;
    --color-error: #e17055;
    --color-warning: #fdcb6e;
    --color-info: #0984e3;
    --color-bg: #f7f5fb;
    --color-text: #2b2b2b;
    --color-muted: #6c6880;
    --color-dark: #0c0a18;
    --radius-lg: 24px;
    --radius-md: 16px;
    --radius-sm: 12px;
    --shadow-soft: 0 18px 45px rgba(23, 10, 61, 0.18);
    --shadow-hover: 0 25px 50px rgba(175, 75, 239, 0.15);
    --shadow-card: 0 12px 30px rgba(15, 23, 42, 0.1);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html, body {
    width: 100%;
    overflow-x: hidden;
    scroll-behavior: smooth;
}

body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    padding: 24px;
    background: radial-gradient(
        circle at top left,
        #ffffff 0,
        #f1ecff 40%,
        var(--color-bg) 100%
    );
    color: var(--color-text);
    -webkit-text-size-adjust: 100%;
    line-height: 1.5;
}

@media (max-width: 600px) {
    body {
        padding: 12px;
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

@keyframes checkmarkPop {
    0% { transform: scale(0); opacity: 0; }
    70% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.page {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    background: #ffffff;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-soft);
    padding: 28px 30px 32px;
    position: relative;
    overflow: hidden;
    animation: fadeInUp 0.8s ease-out;
}

@media (max-width: 900px) {
    .page {
        padding: 22px;
    }
}

@media (max-width: 480px) {
    body {
        padding: 0;
    }
    .page {
        border-radius: 0;
        box-shadow: none;
        padding: 18px 14px 22px;
    }
}

/* Header */
.brand-row {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 14px;
    margin-bottom: 20px;
    flex-wrap: wrap;
    width: 100%;
    animation: fadeIn 0.6s ease-out 0.2s both;
}

.brand {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

.brand-logo {
    height: 40px;
    width: auto;
    max-width: 100%;
    filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.2));
    transition: transform 0.3s ease;
}

.brand-logo:hover {
    transform: scale(1.05);
}

.course-meta {
    display: flex;
    flex-direction: column;
    gap: 2px;
    max-width: 100%;
}

.course-name {
    font-size: 0.78rem;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    color: var(--color-muted);
    white-space: normal;
}

.week-label {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 4px 10px;
    border-radius: 999px;
    background: rgba(175, 75, 239, 0.08);
    font-size: 0.76rem;
    color: var(--color-primary);
    white-space: normal;
}

.week-label-dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: var(--color-success);
    flex-shrink: 0;
}

.badge-mode {
    padding: 5px 10px;
    border-radius: 999px;
    background: rgba(12, 10, 24, 0.06);
    border: 1px solid rgba(12, 10, 24, 0.08);
    font-size: 0.74rem;
    text-transform: uppercase;
    letter-spacing: 0.14em;
    color: var(--color-muted);
    white-space: nowrap;
    transition: all 0.3s ease;
}

.badge-mode:hover {
    background: rgba(175, 75, 239, 0.1);
    border-color: var(--color-primary-soft);
    color: var(--color-primary);
}

@media (max-width: 480px) {
    .brand-row {
        flex-direction: column;
        align-items: flex-start;
    }
    .badge-mode {
        margin-top: 6px;
    }
}

h1 {
    font-size: clamp(1.8rem, 3vw, 2.2rem);
    line-height: 1.1;
    color: var(--color-primary);
    margin-bottom: 6px;
    animation: fadeInUp 0.6s ease-out 0.3s both;
}

.module-subtitle {
    font-size: 0.98rem;
    color: var(--color-muted);
    max-width: 600px;
    margin-bottom: 24px;
    animation: fadeInUp 0.6s ease-out 0.4s both;
}

/* Progress Tracker */
.progress-tracker {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    position: relative;
    padding: 0 20px;
}

.progress-tracker::before {
    content: '';
    position: absolute;
    top: 15px;
    left: 50px;
    right: 50px;
    height: 3px;
    background: rgba(12, 10, 24, 0.08);
    z-index: 1;
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 2;
    flex: 1;
}

.step-circle {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: white;
    border: 2px solid rgba(12, 10, 24, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-muted);
    margin-bottom: 8px;
    transition: all 0.3s ease;
}

.progress-step.active .step-circle {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
    transform: scale(1.1);
}

.progress-step.completed .step-circle {
    background: var(--color-success);
    border-color: var(--color-success);
    color: white;
}

.step-label {
    font-size: 0.75rem;
    color: var(--color-muted);
    text-align: center;
    font-weight: 500;
}

.progress-step.active .step-label {
    color: var(--color-primary);
    font-weight: 600;
}

/* Progress Summary */
.progress-summary {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-bottom: 30px;
    animation: fadeInUp 0.6s ease-out 0.5s both;
}

.summary-card {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-md);
    padding: 16px;
    border: 1px solid rgba(12, 10, 24, 0.06);
    text-align: center;
    transition: all 0.3s ease;
}

.summary-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-card);
    border-color: var(--color-primary-soft);
}

.summary-number {
    font-size: 2rem;
    font-weight: 800;
    color: var(--color-primary);
    display: block;
    line-height: 1;
    margin-bottom: 4px;
}

.summary-label {
    font-size: 0.8rem;
    color: var(--color-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Activity Grid */
.activity-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 25px;
    margin-bottom: 30px;
}

.activity-card {
    background: white;
    border-radius: var(--radius-md);
    border: 1px solid rgba(12, 10, 24, 0.08);
    padding: 25px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.activity-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: var(--color-primary);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.activity-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-hover);
    border-color: var(--color-primary-soft);
}

.activity-card:hover::before {
    opacity: 1;
}

.activity-card.completed {
    border-color: var(--color-success);
}

.activity-card.completed::before {
    background: var(--color-success);
    opacity: 1;
}

.activity-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 15px;
}

.activity-number {
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--color-primary);
    background: rgba(175, 75, 239, 0.1);
    padding: 4px 10px;
    border-radius: 20px;
}

.activity-status {
    font-size: 0.75rem;
    padding: 3px 8px;
    border-radius: 12px;
    background: rgba(12, 10, 24, 0.06);
    color: var(--color-muted);
}

.activity-card.completed .activity-status {
    background: rgba(0, 184, 148, 0.1);
    color: var(--color-success);
}

.activity-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--color-text);
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.activity-icon {
    font-size: 1.5rem;
}

.activity-description {
    font-size: 0.95rem;
    color: var(--color-muted);
    margin-bottom: 20px;
    line-height: 1.5;
}

/* === SIMPLIFIED ACTIVITY 1: Full Body Skin Exam === */
.skin-exam-simple {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.exam-checklist {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 20px;
    border: 1px solid rgba(12, 10, 24, 0.08);
}

.checklist-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.checklist-items {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 10px;
}

.checklist-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background: white;
    border-radius: var(--radius-sm);
    border: 2px solid rgba(12, 10, 24, 0.1);
    cursor: pointer;
    transition: all 0.3s ease;
}

.checklist-item:hover {
    background: rgba(175, 75, 239, 0.05);
    border-color: var(--color-primary-soft);
    transform: translateY(-2px);
}

.checklist-item.checked {
    background: rgba(0, 184, 148, 0.1);
    border-color: var(--color-success);
}

.checkbox {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(12, 10, 24, 0.2);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.checklist-item.checked .checkbox {
    background: var(--color-success);
    border-color: var(--color-success);
    color: white;
}

.checklist-item.checked .checkbox::after {
    content: '‚úì';
    font-size: 0.8rem;
    font-weight: bold;
}

.checklist-text {
    font-size: 0.85rem;
    color: var(--color-text);
}

.checklist-item.suspicious {
    border-color: rgba(12, 10, 24, 0.1);
    background: rgba(12, 10, 24, 0.02);
}

.checklist-item.suspicious.checked {
    border-color: var(--color-success);
    background: rgba(0, 184, 148, 0.1);
}

.exam-findings {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 20px;
    border: 1px solid rgba(12, 10, 24, 0.08);
}

.findings-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.findings-log {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 15px;
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid rgba(12, 10, 24, 0.08);
}

.finding-item {
    padding: 8px;
    border-bottom: 1px solid rgba(12, 10, 24, 0.05);
    font-size: 0.85rem;
    line-height: 1.4;
}

.finding-item:last-child {
    border-bottom: none;
}

.dermoscope-section {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 20px;
    border: 1px solid rgba(12, 10, 24, 0.08);
}

.dermoscope-btn {
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    padding: 12px 24px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 15px;
}

.dermoscope-btn:hover {
    background: #9a3bd6;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(175, 75, 239, 0.3);
}

.dermoscope-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.dermoscope-result {
    background: white;
    border-radius: var(--radius-sm);
    padding: 15px;
    border: 1px solid rgba(12, 10, 24, 0.1);
    display: none;
}

.dermoscope-result.show {
    display: block;
    animation: fadeIn 0.5s ease;
}

.dermoscope-image {
    width: 100%;
    height: 120px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 8px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
}

.dermoscope-findings {
    font-size: 0.85rem;
    color: var(--color-text);
    line-height: 1.5;
}

/* === ACTIVITY 2: Documentation Challenge === */
.document-container {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid rgba(12, 10, 24, 0.08);
}

.document-prompt {
    font-size: 0.9rem;
    color: var(--color-text);
    margin-bottom: 20px;
    line-height: 1.5;
}

.document-blanks {
    background: white;
    border-radius: var(--radius-sm);
    padding: 20px;
    border: 1px solid rgba(12, 10, 24, 0.1);
    margin-bottom: 20px;
}

.blank-item {
    margin-bottom: 15px;
}

.blank-label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.blank-dropzone {
    min-height: 40px;
    border: 2px dashed rgba(12, 10, 24, 0.1);
    border-radius: var(--radius-sm);
    padding: 10px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    font-size: 0.85rem;
    color: var(--color-muted);
}

.blank-dropzone.hover {
    border-color: var(--color-primary);
    background: rgba(175, 75, 239, 0.05);
}

.blank-dropzone.filled {
    border: 2px solid var(--color-success);
    background: rgba(0, 184, 148, 0.1);
    color: var(--color-text);
}

.blank-dropzone.wrong {
    border: 2px solid var(--color-error);
    background: rgba(225, 112, 85, 0.1);
    color: var(--color-text);
}

.term-bank {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 10px;
    margin-bottom: 20px;
}

.term-item {
    background: rgba(12, 10, 24, 0.05);
    border-radius: var(--radius-sm);
    padding: 10px 15px;
    font-size: 0.8rem;
    cursor: grab;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    text-align: center;
    user-select: none;
}

.term-item:hover {
    background: rgba(175, 75, 239, 0.1);
    border-color: var(--color-primary-soft);
    transform: translateY(-2px);
}

.term-item.dragging {
    opacity: 0.7;
    transform: scale(0.95);
}

.term-item.placed {
    opacity: 0.5;
    cursor: default;
}

/* === ACTIVITY 3: Patient Education Scenarios === */
.scenario-container {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid rgba(12, 10, 24, 0.08);
}

.scenario-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 15px;
}

.scenario-title {
    font-size: 1rem;
    font-weight: 700;
    color: var(--color-primary);
}

.scenario-patient {
    font-size: 0.85rem;
    color: var(--color-muted);
}

.scenario-content {
    font-size: 0.9rem;
    color: var(--color-text);
    margin-bottom: 20px;
    line-height: 1.5;
}

.education-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.education-option {
    background: rgba(12, 10, 24, 0.03);
    border-radius: var(--radius-sm);
    padding: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.education-option:hover {
    background: rgba(175, 75, 239, 0.08);
    border-color: var(--color-primary-soft);
    transform: translateY(-2px);
}

.education-option.selected {
    background: rgba(0, 184, 148, 0.1);
    border-color: var(--color-success);
}

.education-option.wrong {
    background: rgba(225, 112, 85, 0.1);
    border-color: var(--color-error);
    animation: shake 0.5s ease;
}

.option-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: 8px;
}

.option-content {
    font-size: 0.8rem;
    color: var(--color-text);
    line-height: 1.4;
}

.scenario-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 20px;
    padding: 15px;
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
}

.nav-btn {
    background: rgba(12, 10, 24, 0.06);
    border: none;
    border-radius: var(--radius-sm);
    padding: 10px 20px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.nav-btn:hover {
    background: rgba(12, 10, 24, 0.1);
    transform: translateY(-2px);
}

.nav-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* === ACTIVITY 4: Biopsy Result Interpretation === */
.biopsy-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.biopsy-report {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 20px;
    border: 1px solid rgba(12, 10, 24, 0.08);
}

.report-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(12, 10, 24, 0.08);
}

.report-title {
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--color-primary);
}

.report-date {
    font-size: 0.8rem;
    color: var(--color-muted);
}

.report-content {
    font-size: 0.85rem;
    color: var(--color-text);
    line-height: 1.5;
}

.report-section {
    margin-bottom: 15px;
}

.section-title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 5px;
}

.section-content {
    font-size: 0.8rem;
    color: var(--color-text);
}

.interpretation-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
    margin-bottom: 20px;
}

.interpretation-option {
    background: rgba(12, 10, 24, 0.03);
    border-radius: var(--radius-sm);
    padding: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    text-align: center;
}

.interpretation-option:hover {
    background: rgba(175, 75, 239, 0.08);
    border-color: var(--color-primary-soft);
    transform: translateY(-2px);
}

.interpretation-option.selected {
    background: rgba(0, 184, 148, 0.1);
    border-color: var(--color-success);
}

.interpretation-option.wrong {
    background: rgba(225, 112, 85, 0.1);
    border-color: var(--color-error);
    animation: shake 0.5s ease;
}

/* Feedback */
.feedback-container {
    background: rgba(12, 10, 24, 0.02);
    border-radius: var(--radius-sm);
    padding: 20px;
    border: 1px solid rgba(12, 10, 24, 0.08);
    margin-top: 25px;
    display: none;
}

.feedback-container.show {
    display: block;
    animation: fadeIn 0.5s ease;
}

.feedback-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.feedback-icon {
    font-size: 1.3rem;
}

.feedback-icon.correct {
    color: var(--color-success);
}

.feedback-icon.incorrect {
    color: var(--color-error);
}

.feedback-content {
    font-size: 0.9rem;
    color: var(--color-text);
    line-height: 1.6;
}

.feedback-content strong {
    color: var(--color-primary);
}

.clinical-tip {
    background: rgba(253, 203, 110, 0.1);
    border-left: 4px solid var(--color-warning);
    padding: 15px;
    margin-top: 15px;
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
}

.clinical-tip-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-warning);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.clinical-tip-content {
    font-size: 0.85rem;
    color: var(--color-text);
}

/* Action Buttons */
.action-buttons {
    display: flex;
    gap: 12px;
    margin-top: 30px;
    flex-wrap: wrap;
}

.btn {
    padding: 12px 24px;
    border-radius: var(--radius-md);
    border: none;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.btn-primary {
    background: var(--color-primary);
    color: white;
}

.btn-primary:hover {
    background: #9a3bd6;
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(175, 75, 239, 0.3);
}

.btn-secondary {
    background: rgba(12, 10, 24, 0.06);
    color: var(--color-text);
}

.btn-secondary:hover {
    background: rgba(12, 10, 24, 0.1);
    transform: translateY(-2px);
}

.btn-icon {
    font-size: 1.1em;
}

/* Results Panel */
.results-panel {
    background: var(--color-dark);
    color: white;
    border-radius: var(--radius-md);
    padding: 30px;
    margin-top: 30px;
    display: none;
    animation: fadeInUp 0.6s ease;
}

.results-panel.show {
    display: block;
}

.results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.results-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: white;
}

.score-display {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--color-primary-soft);
    text-align: center;
    margin: 20px 0;
}

.clinical-insights {
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-sm);
    padding: 20px;
    margin-top: 20px;
}

.insights-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-primary-soft);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.insights-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.insights-list li {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    font-size: 0.9rem;
    color: #e5e7eb;
}

.insight-dot {
    width: 6px;
    height: 6px;
    margin-top: 6px;
    border-radius: 999px;
    background: var(--color-accent);
    flex-shrink: 0;
}

/* Screening Warning */
.screening-warning {
    background: rgba(225, 112, 85, 0.1);
    border: 2px solid var(--color-error);
    border-radius: var(--radius-sm);
    padding: 15px;
    margin-top: 15px;
    display: flex;
    align-items: flex-start;
    gap: 12px;
}

.warning-icon {
    font-size: 1.5rem;
    color: var(--color-error);
    flex-shrink: 0;
}

.warning-content {
    flex: 1;
}

.warning-title {
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--color-error);
    margin-bottom: 5px;
}

.warning-text {
    font-size: 0.85rem;
    color: var(--color-text);
}
</style>
</head>
<body>

<main class="page" aria-labelledby="module-heading">

<!-- Header -->
<header class="brand-row">
<div class="brand">
<img src="https://cdn.prod.website-files.com/64d0ccc1558d601cbfb09021/64e9d2f719b1e5258e5d57f5_IMG_1512-p-500.png" alt="AlliedRx logo" class="brand-logo">
<div class="course-meta">
<span class="course-name">Clinical Medical Assistant ‚Ä¢ Week 3</span>
<div class="week-label">
<span class="week-label-dot"></span>
<span>Chapter 14: Assisting in Dermatology</span>
</div>
</div>
</div>
<span class="badge-mode">Campus &amp; Online</span>
</header>

<h1 id="module-heading">Skin Cancer Screening Clinic</h1>
<p class="module-subtitle">
Master comprehensive skin cancer screening through interactive full-body exams, documentation standards, patient education, and biopsy interpretation.
</p>

<!-- Progress Tracker -->
<div class="progress-tracker">
<div class="progress-step active" data-step="1">
<div class="step-circle">1</div>
<div class="step-label">Skin Exam</div>
</div>
<div class="progress-step" data-step="2">
<div class="step-circle">2</div>
<div class="step-label">Documentation</div>
</div>
<div class="progress-step" data-step="3">
<div class="step-circle">3</div>
<div class="step-label">Patient Education</div>
</div>
<div class="progress-step" data-step="4">
<div class="step-circle">4</div>
<div class="step-label">Biopsy Results</div>
</div>
</div>

<!-- Progress Summary -->
<div class="progress-summary">
<div class="summary-card">
<span class="summary-number" id="completed-count">0</span>
<span class="summary-label">Activities Completed</span>
</div>
<div class="summary-card">
<span class="summary-number" id="accuracy-rate">0%</span>
<span class="summary-label">Current Accuracy</span>
</div>
<div class="summary-card">
<span class="summary-number" id="time-spent">0:00</span>
<span class="summary-label">Time Spent</span>
</div>
</div>

<!-- Activity Grid -->
<div class="activity-grid">

<!-- ACTIVITY 1: SIMPLIFIED Full Body Skin Exam -->
<section class="activity-card" id="activity-1" data-activity="1">
<div class="activity-header">
<span class="activity-number">Activity 1</span>
<span class="activity-status">Not Started</span>
</div>
<h3 class="activity-title">
<span class="activity-icon">üîç</span>
Full Body Skin Exam Simulation
</h3>
<p class="activity-description">
Conduct a systematic full-body skin examination. Check off each body region as you examine it. Document findings and use the dermatoscope for suspicious lesions.
</p>

<div class="skin-exam-simple">
<!-- Exam Checklist -->
<div class="exam-checklist">
<div class="checklist-title">
<span>üìã</span> Systematic Examination Checklist
</div>
<div class="checklist-items">
<div class="checklist-item" data-region="head">
<div class="checkbox"></div>
<div class="checklist-text">Head & Scalp</div>
</div>
<div class="checklist-item" data-region="neck">
<div class="checkbox"></div>
<div class="checklist-text">Neck</div>
</div>
<div class="checklist-item" data-region="chest">
<div class="checkbox"></div>
<div class="checklist-text">Chest</div>
</div>
<div class="checklist-item" data-region="abdomen">
<div class="checkbox"></div>
<div class="checklist-text">Abdomen</div>
</div>
<div class="checklist-item suspicious" data-region="back">
<div class="checkbox"></div>
<div class="checklist-text">Back</div>
</div>
<div class="checklist-item" data-region="left-arm">
<div class="checkbox"></div>
<div class="checklist-text">Left Arm</div>
</div>
<div class="checklist-item" data-region="right-arm">
<div class="checkbox"></div>
<div class="checklist-text">Right Arm</div>
</div>
<div class="checklist-item" data-region="left-leg">
<div class="checkbox"></div>
<div class="checklist-text">Left Leg</div>
</div>
<div class="checklist-item" data-region="right-leg">
<div class="checkbox"></div>
<div class="checklist-text">Right Leg</div>
</div>
</div>
</div>

<!-- Findings Log -->
<div class="exam-findings">
<div class="findings-title">
<span>üìù</span> Examination Findings
</div>
<div class="findings-log" id="findings-log">
<div class="finding-item" style="color: var(--color-muted);">
Click checkboxes to examine body regions. Findings will appear here.
</div>
</div>
</div>

<!-- Dermatoscope Section -->
<div class="dermoscope-section">
<div class="findings-title">
<span>üî¨</span> Dermatoscope Evaluation
</div>
<p style="font-size: 0.85rem; color: var(--color-text); margin-bottom: 15px;">
After examining all regions, use the dermatoscope to evaluate any suspicious lesions.
</p>
<button class="dermoscope-btn" id="dermoscope-btn" disabled>
<span>üî¨</span> Use Dermatoscope
</button>
<div class="dermoscope-result" id="dermoscope-result">
<div class="dermoscope-image">üì∑</div>
<div class="dermoscope-findings">
<strong>Dermatoscopic Findings:</strong><br>
‚Ä¢ Asymmetric pigment network<br>
‚Ä¢ Blue-white veil<br>
‚Ä¢ Irregular dots/globules<br>
‚Ä¢ Atypical vessels<br>
<strong>Assessment:</strong> Suspicious for melanoma, recommend excisional biopsy with 2mm margins.
</div>
</div>
</div>
</div>

<!-- Clinical Tip -->
<div class="clinical-tip">
<div class="clinical-tip-title">
<span>üí°</span> Full-Body Exam Best Practices
</div>
<div class="clinical-tip-content">
<strong>Systematic Approach:</strong> Examine from head to toe in consistent pattern.<br>
<strong>Documentation:</strong> Record location, size, color, and characteristics of ALL findings.<br>
<strong>Red Flags:</strong> Asymmetry, irregular borders, color variation, diameter >6mm, evolution.<br>
<strong>Dermatoscopy:</strong> Use for any suspicious lesion to evaluate dermal structures.
</div>
</div>

<!-- Feedback -->
<div class="feedback-container" id="feedback-1">
<div class="feedback-title">
<span class="feedback-icon correct">‚úì</span>
Skin Exam Completed Successfully!
</div>
<div class="feedback-content">
<strong>Your Findings:</strong><br>
‚Ä¢ <strong>Head/scalp:</strong> Normal skin, no lesions<br>
‚Ä¢ <strong>Neck:</strong> Normal skin, no lesions<br>
‚Ä¢ <strong>Chest:</strong> Normal skin, no lesions<br>
‚Ä¢ <strong>Abdomen:</strong> Normal skin, no lesions<br>
‚Ä¢ <strong>Back:</strong> SUSPICIOUS LESION: 7mm asymmetrical pigmented lesion with irregular borders<br>
‚Ä¢ <strong>Left Arm:</strong> Normal skin, no lesions<br>
‚Ä¢ <strong>Right Arm:</strong> Normal skin, no lesions<br>
‚Ä¢ <strong>Left Leg:</strong> Normal skin, no lesions<br>
‚Ä¢ <strong>Right Leg:</strong> Normal skin, no lesions<br><br>
<strong>Clinical Decision:</strong> Correctly identified suspicious lesion on back and used dermatoscope for evaluation.<br>
<strong>Documentation:</strong> "7mm asymmetrical pigmented lesion with irregular borders on mid-back. Dermatoscopy shows asymmetric pigment network, blue-white veil, irregular dots. Suspect melanoma, recommend excisional biopsy with 2mm margins."
</div>
</div>
</section>

<!-- ACTIVITY 2: Documentation Challenge -->
<section class="activity-card" id="activity-2" data-activity="2">
<div class="activity-header">
<span class="activity-number">Activity 2</span>
<span class="activity-status">Not Started</span>
</div>
<h3 class="activity-title">
<span class="activity-icon">üìù</span>
Documentation Challenge
</h3>
<p class="activity-description">
Complete the dermatology SOAP note by dragging appropriate terms into the blanks. Accurate documentation ensures continuity of care and legal protection.
</p>

<div class="document-container">
<div class="document-prompt">
<strong>Patient:</strong> 52-year-old male with changing mole on left shoulder.<br>
<strong>Task:</strong> Complete the SOAP note objective section using precise dermatologic terminology.
</div>

<div class="document-blanks">
<div class="blank-item">
<div class="blank-label">
<span>üìç</span> Location
</div>
<div class="blank-dropzone" data-blank="location"></div>
</div>
<div class="blank-item">
<div class="blank-label">
<span>üìè</span> Size
</div>
<div class="blank-dropzone" data-blank="size"></div>
</div>
<div class="blank-item">
<div class="blank-label">
<span>üé®</span> Color
</div>
<div class="blank-dropzone" data-blank="color"></div>
</div>
<div class="blank-item">
<div class="blank-label">
<span>üî≤</span> Border
</div>
<div class="blank-dropzone" data-blank="border"></div>
</div>
<div class="blank-item">
<div class="blank-label">
<span>üîÑ</span> Evolution
</div>
<div class="blank-dropzone" data-blank="evolution"></div>
</div>
</div>

<div class="term-bank">
<div class="term-item" data-term="location" draggable="true">Left posterior shoulder</div>
<div class="term-item" data-term="size" draggable="true">7mm in diameter</div>
<div class="term-item" data-term="color" draggable="true">Variegated brown, black, and red</div>
<div class="term-item" data-term="border" draggable="true">Irregular and notched</div>
<div class="term-item" data-term="evolution" draggable="true">Enlarged over 6 months</div>
<div class="term-item" data-term="wrong1" draggable="true">Big dark spot</div>
<div class="term-item" data-term="wrong2" draggable="true">On the back</div>
<div class="term-item" data-term="wrong3" draggable="true">Quarter-sized</div>
</div>
</div>

<!-- Screening Warning -->
<div class="screening-warning">
<div class="warning-icon">‚ö†Ô∏è</div>
<div class="warning-content">
<div class="warning-title">Documentation Pitfalls</div>
<div class="warning-text">
‚Ä¢ Avoid vague terms: "large," "small," "medium" -- use measurements in millimeters/centimeters<br>
‚Ä¢ Never use: "looks like," "probably," "maybe" -- document only observable facts<br>
‚Ä¢ Include: Exact anatomic location, patient position, reference points (distance from landmarks)<br>
‚Ä¢ Photography: Strongly recommend for changing lesions; include ruler in photo
</div>
</div>
</div>

<!-- Feedback -->
<div class="feedback-container" id="feedback-2">
<div class="feedback-title">
<span class="feedback-icon correct">‚úì</span>
Documentation Complete & Accurate!
</div>
<div class="feedback-content">
<strong>Complete SOAP Note (Objective Section):</strong><br>
"Single 7mm pigmented lesion on left posterior shoulder, 5cm lateral to midline at T4 level. Lesion is asymmetrical with irregular, notched borders. Color variegation with brown, black, and focal red areas. Surface slightly elevated, texture smooth. No ulceration, bleeding, or crust. Dermatoscopy shows asymmetric pigment network, blue-white veil, irregular dots/globules. No other suspicious lesions identified on full-body skin exam."<br><br>
<strong>Why Precise Terminology Matters:</strong><br>
1. <strong>Legal protection:</strong> "7mm" vs "small" -- one is measurable fact, other is subjective opinion<br>
2. <strong>Communication:</strong> Ensures other providers understand exactly what was seen<br>
3. <strong>Monitoring:</strong> Enables accurate tracking of changes over time<br>
4. <strong>Billing/coding:</strong> Specific documentation supports appropriate coding<br><br>
<strong>Memory Aid for Documentation (SCALP):</strong><br>
‚Ä¢ <strong>S</strong> -- Size (mm/cm)<br>
‚Ä¢ <strong>C</strong> -- Color (all colors present)<br>
‚Ä¢ <strong>A</strong> -- Anatomy (exact location)<br>
‚Ä¢ <strong>L</strong> -- Lesion type (primary/secondary)<br>
‚Ä¢ <strong>P</strong> -- Pattern (distribution, arrangement)
</div>
</div>
</section>

<!-- ACTIVITY 3: Patient Education Scenarios -->
<section class="activity-card" id="activity-3" data-activity="3">
<div class="activity-header">
<span class="activity-number">Activity 3</span>
<span class="activity-status">Not Started</span>
</div>
<h3 class="activity-title">
<span class="activity-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
Patient Education Scenarios
</h3>
<p class="activity-description">
Select appropriate patient education for different scenarios: teenager with acne, elderly patient with actinic keratosis, and melanoma survivor.
</p>

<!-- SCENARIO 1 (Visible by default) -->
<div class="scenario-container" id="scenario-1">
<div class="scenario-header">
<div class="scenario-title">Scenario 1: Teenager with Acne</div>
<div class="scenario-patient">Patient: 16-year-old female, frustrated with acne</div>
</div>
<div class="scenario-content">
<strong>History:</strong> Moderate inflammatory acne for 2 years. Tried over-the-counter products without improvement.<br>
<strong>Concerns:</strong> "My face is always broken out. I'm embarrassed at school."<br>
<strong>Goal:</strong> Provide effective treatment education and address psychosocial impact.
</div>
<div class="education-options">
<div class="education-option" data-scenario="1" data-option="1">
<div class="option-title">Comprehensive Acne Management</div>
<div class="option-content">Explain pathophysiology, demonstrate proper cleansing, review topical medications (benzoyl peroxide, retinoids, antibiotics), discuss oral options if severe, address scarring prevention and psychosocial impact.</div>
</div>
<div class="education-option" data-scenario="1" data-option="2">
<div class="option-title">Quick Fix Approach</div>
<div class="option-content">"Just wash your face more and don't eat chocolate. Here's a prescription cream."</div>
</div>
<div class="education-option" data-scenario="1" data-option="3">
<div class="option-title">Minimal Intervention</div>
<div class="option-content">"You'll grow out of it. Everyone gets pimples."</div>
</div>
</div>
</div>

<!-- SCENARIO 2 (Hidden by default) -->
<div class="scenario-container" id="scenario-2" style="display: none;">
<div class="scenario-header">
<div class="scenario-title">Scenario 2: Elderly with Actinic Keratosis</div>
<div class="scenario-patient">Patient: 72-year-old male, multiple AKs on bald scalp</div>
</div>
<div class="scenario-content">
<strong>History:</strong> Lifelong outdoor worker, multiple AKs for 10+ years. One AK became tender and thickened.<br>
<strong>Concerns:</strong> "These rough spots keep coming back. Should I be worried about skin cancer?"<br>
<strong>Goal:</strong> Educate about AK progression to SCC, treatment options, and sun protection.
</div>
<div class="education-options">
<div class="education-option" data-scenario="2" data-option="1">
<div class="option-title">Comprehensive AK Education</div>
<div class="option-content">Explain AK-SCC continuum, demonstrate proper sun protection (hats, sunscreen), review treatment options (cryotherapy, topical therapy, photodynamic therapy), schedule regular follow-ups.</div>
</div>
<div class="education-option" data-scenario="2" data-option="2">
<div class="option-title">Minimalist Approach</div>
<div class="option-content">"They're just age spots. Use some sunscreen if you go outside."</div>
</div>
<div class="education-option" data-scenario="2" data-option="3">
<div class="option-title">Alarmist Approach</div>
<div class="option-content">"These will definitely turn into cancer! We need to remove them all immediately!"</div>
</div>
</div>
</div>

<!-- SCENARIO 3 (Hidden by default) -->
<div class="scenario-container" id="scenario-3" style="display: none;">
<div class="scenario-header">
<div class="scenario-title">Scenario 3: Melanoma Survivor</div>
<div class="scenario-patient">Patient: 48-year-old female, Stage IB melanoma excised 6 months ago</div>
</div>
<div class="scenario-content">
<strong>History:</strong> Superficial spreading melanoma 0.9mm Breslow, wide excision with clear margins.<br>
<strong>Concerns:</strong> "I'm terrified it will come back. How often should I check myself? What about my kids?"<br>
<strong>Goal:</strong> Provide surveillance plan, family screening guidance, and anxiety management.
</div>
<div class="education-options">
<div class="education-option" data-scenario="3" data-option="1">
<div class="option-title">Comprehensive Survivor Care</div>
<div class="option-content">Review surveillance schedule (every 3-6 months), teach thorough self-exam, discuss family screening recommendations, address anxiety with coping strategies, emphasize strict sun protection.</div>
</div>
<div class="education-option" data-scenario="3" data-option="2">
<div class="option-title">Dismissive Approach</div>
<div class="option-content">"You're fine now. Just come back if you see something new."</div>
</div>
<div class="education-option" data-scenario="3" data-option="3">
<div class="option-title">Over-medicalizing</div>
<div class="option-content">"You need full-body scans every month and genetic testing for your entire family immediately!"</div>
</div>
</div>
</div>

<!-- Scenario Navigation -->
<div class="scenario-nav">
<button class="nav-btn" id="prev-scenario" disabled>
<span>‚Üê</span> Previous Scenario
</button>
<div>Scenario <span id="scenario-number">1</span> of 3</div>
<button class="nav-btn" id="next-scenario">
Next Scenario <span>‚Üí</span>
</button>
</div>

<!-- Clinical Tip -->
<div class="clinical-tip">
<div class="clinical-tip-title">
<span>üí°</span> Patient Education Principles
</div>
<div class="clinical-tip-content">
<strong>Teenagers:</strong> Address self-esteem, provide written instructions, involve parents appropriately.<br>
<strong>Elderly:</strong> Large-print materials, simplify regimens, consider dexterity/vision limitations.<br>
<strong>Melanoma survivors:</strong> Emphasize surveillance schedule, sun protection, family screening.<br>
<strong>Universal:</strong> Use teach-back method, provide written summary, schedule follow-up.
</div>
</div>

<!-- Feedback -->
<div class="feedback-container" id="feedback-3">
<div class="feedback-title">
<span class="feedback-icon correct">‚úì</span>
Patient Education Mastered!
</div>
<div class="feedback-content">
<strong>Correct Answers:</strong><br>
‚Ä¢ <strong>Scenario 1:</strong> Comprehensive Acne Management -- Addresses both medical and psychosocial aspects<br>
‚Ä¢ <strong>Scenario 2:</strong> Comprehensive AK Education -- Balances cancer risk with appropriate treatment<br>
‚Ä¢ <strong>Scenario 3:</strong> Comprehensive Survivor Care -- Provides surveillance without causing excessive anxiety<br><br>
<strong>Key Education Points:</strong><br>
1. Always assess patient's health literacy and adjust communication accordingly<br>
2. Provide written materials to reinforce verbal instructions<br>
3. Use the "teach-back" method: "Can you show me how you'll apply this cream?"<br>
4. Document education provided and patient's understanding<br>
5. Schedule appropriate follow-up based on patient's needs and risk level
</div>
</div>
</section>

<!-- ACTIVITY 4: Biopsy Result Interpretation -->
<section class="activity-card" id="activity-4" data-activity="4">
<div class="activity-header">
<span class="activity-number">Activity 4</span>
<span class="activity-status">Not Started</span>
</div>
<h3 class="activity-title">
<span class="activity-icon">üî¨</span>
Biopsy Result Interpretation
</h3>
<p class="activity-description">
Interpret dermatopathology reports and determine appropriate follow-up. Analyze findings, differentiate benign from malignant, and recommend next steps.
</p>

<div class="biopsy-container">
<!-- Report 1 -->
<div class="biopsy-report">
<div class="report-header">
<div class="report-title">Report #1: Pigmented Lesion</div>
<div class="report-date">Biopsy Date: 03/15/2024</div>
</div>
<div class="report-content">
<div class="report-section">
<div class="section-title">Clinical Information</div>
<div class="section-content">7mm pigmented lesion, left shoulder, changing 6 months</div>
</div>
<div class="report-section">
<div class="section-title">Diagnosis</div>
<div class="section-content">Malignant Melanoma, superficial spreading type</div>
</div>
<div class="report-section">
<div class="section-title">Breslow Thickness</div>
<div class="section-content">0.8mm</div>
</div>
<div class="report-section">
<div class="section-title">Ulceration</div>
<div class="section-content">Absent</div>
</div>
<div class="report-section">
<div class="section-title">Margins</div>
<div class="section-content">Positive at deep margin</div>
</div>
</div>
</div>

<!-- Report 2 -->
<div class="biopsy-report">
<div class="report-header">
<div class="report-title">Report #2: Facial Lesion</div>
<div class="report-date">Biopsy Date: 03/10/2024</div>
</div>
<div class="report-content">
<div class="report-section">
<div class="section-title">Clinical Information</div>
<div class="section-content">5mm pearly papule, right cheek, slowly growing</div>
</div>
<div class="report-section">
<div class="section-title">Diagnosis</div>
<div class="section-content">Basal Cell Carcinoma, nodular type</div>
</div>
<div class="report-section">
<div class="section-title">Margins</div>
<div class="section-content">Clear (2mm)</div>
</div>
<div class="report-section">
<div class="section-title">Perineural Invasion</div>
<div class="section-content">Not identified</div>
</div>
</div>
</div>
</div>

<div class="interpretation-options">
<div class="interpretation-option" data-report="1" data-action="wide-excision">
<strong>Report #1 Action:</strong><br>
Wide local excision with 1cm margins + sentinel lymph node biopsy
</div>
<div class="interpretation-option" data-report="1" data-action="monitor">
<strong>Report #1 Action:</strong><br>
Monitor with follow-up in 6 months
</div>
<div class="interpretation-option" data-report="1" data-action="cryotherapy">
<strong>Report #1 Action:</strong><br>
Cryotherapy for residual lesion
</div>
<div class="interpretation-option" data-report="2" data-action="mohs">
<strong>Report #2 Action:</strong><br>
Mohs micrographic surgery (facial location)
</div>
<div class="interpretation-option" data-report="2" data-action="observation">
<strong>Report #2 Action:</strong><br>
Observation (margins clear)
</div>
<div class="interpretation-option" data-report="2" data-action="topical">
<strong>Report #2 Action:</strong><br>
Topical chemotherapy cream
</div>
</div>

<!-- Clinical Tip -->
<div class="clinical-tip">
<div class="clinical-tip-title">
<span>üí°</span> Biopsy Interpretation Keys
</div>
<div class="clinical-tip-content">
<strong>Melanoma:</strong> Breslow thickness most important prognostic factor. &lt;1mm = good prognosis.<br>
<strong>BCC:</strong> Check margins, subtype (nodular vs infiltrative), location (high-risk areas: face, ears).<br>
<strong>SCC:</strong> Check differentiation, depth, perineural invasion, immunosuppression status.<br>
<strong>Follow-up:</strong> Based on diagnosis, stage, patient risk factors, and treatment modality.
</div>
</div>

<!-- Feedback -->
<div class="feedback-container" id="feedback-4">
<div class="feedback-title">
<span class="feedback-icon correct">‚úì</span>
Biopsy Results Correctly Interpreted!
</div>
<div class="feedback-content">
<strong>Report #1: Melanoma Management</strong><br>
‚Ä¢ <strong>Diagnosis:</strong> Malignant melanoma, Breslow 0.8mm (Stage IB)<br>
‚Ä¢ <strong>Critical finding:</strong> Positive deep margin -- requires re-excision<br>
‚Ä¢ <strong>Treatment:</strong> Wide local excision with 1cm margins<br>
‚Ä¢ <strong>Sentinel node biopsy:</strong> Consider for Breslow 0.8-1.0mm with ulceration or mitotic rate ‚â•1<br>
‚Ä¢ <strong>Follow-up:</strong> Every 3-6 months for 2 years, then 6-12 months<br>
‚Ä¢ <strong>Patient counseling:</strong> Sun protection, self-exams, family screening<br><br>
<strong>Report #2: Basal Cell Carcinoma Management</strong><br>
‚Ä¢ <strong>Diagnosis:</strong> Nodular BCC, margins clear (2mm)<br>
‚Ä¢ <strong>Location:</strong> Facial cheek -- cosmetic area<br>
‚Ä¢ <strong>Treatment options:</strong><br>
  ‚Ä¢ Mohs surgery (gold standard for facial BCC)<br>
  ‚Ä¢ Standard excision with 4mm margins (if not Mohs candidate)<br>
  ‚Ä¢ Electrodesiccation & curettage (low-risk, non-facial)<br>
  ‚Ä¢ Topical imiquimod/5-FU (superficial type only)<br>
‚Ä¢ <strong>Follow-up:</strong> 6-12 months for first year, then annually<br><br>
<strong>Pathology Report Components to Always Check:</strong><br>
1. Diagnosis (exact subtype)<br>
2. Margins (clear? distance?)<br>
3. Depth/thickness (Breslow for melanoma)<br>
4. Ulceration (present/absent)<br>
5. Mitotic rate (melanoma)<br>
6. Perineural/lymphovascular invasion (SCC)<br>
7. Clark level (historical, less used now)<br><br>
<strong>Documentation of Results Discussion:</strong> "Pathology results reviewed with patient. Diagnosis, prognosis, treatment options, and follow-up plan discussed. Patient questions answered. Informed consent obtained for recommended procedure. Copy of pathology report provided to patient."
</div>
</div>
</section>
</div>

<!-- Action Buttons -->
<div class="action-buttons">
<button class="btn btn-secondary" id="reset-all-btn">
<span class="btn-icon">‚Üª</span> Reset All Activities
</button>
<button class="btn btn-secondary" id="check-answers-btn">
<span class="btn-icon">‚úì</span> Check All Answers
</button>
<button class="btn btn-primary" id="view-results-btn">
<span class="btn-icon">üìä</span> View Final Results
</button>
</div>

<!-- Results Panel -->
<div class="results-panel" id="results-panel">
<div class="results-header">
<h2 class="results-title">Skin Cancer Screening Results</h2>
<div class="score-display" id="final-score">0%</div>
</div>
<div class="clinical-insights">
<h3 class="insights-title"><span>ü©∫</span> Screening Proficiency Insights</h3>
<ul class="insights-list">
<li><span class="insight-dot"></span><span><strong>Systematic Examination:</strong> Missed areas (scalp, between toes, genitalia) account for 30% of delayed melanoma diagnoses. Use checklists and diagrams.</span></li>
<li><span class="insight-dot"></span><span><strong>Documentation Standards:</strong> "7mm variegated lesion" is defensible; "suspicious mole" is not. Measure with ruler, not comparative terms ("quarter-sized").</span></li>
<li><span class="insight-dot"></span><span><strong>Risk Stratification:</strong> High-risk patients (family history, multiple nevi, immunosuppressed) need more frequent screening (6-12 months vs 1-2 years).</span></li>
<li><span class="insight-dot"></span><span><strong>Patient Education:</strong> 50% of sunscreen users apply incorrectly. Teach "shot glass amount for body, teaspoon for face" and reapplication every 2 hours.</span></li>
<li><span class="insight-dot"></span><span><strong>Biopsy Follow-up:</strong> 20% of biopsy results are never communicated to patients. Implement tracking systems and document all communication attempts.</span></li>
</ul>
</div>
</div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // State Management
    const state = {
        activities: {
            1: { completed: false, correct: 0, total: 10, score: 0 },
            2: { completed: false, correct: 0, total: 5, score: 0 },
            3: { completed: false, correct: 0, total: 3, score: 0 },
            4: { completed: false, correct: 0, total: 2, score: 0 }
        },
        startedAt: new Date(),
        timeSpent: 0,
        currentScenario: 1,
        scenarioAnswers: {}
    };

    // DOM Elements
    const progressSteps = document.querySelectorAll('.progress-step');
    const activityCards = document.querySelectorAll('.activity-card');
    const completedCount = document.getElementById('completed-count');
    const accuracyRate = document.getElementById('accuracy-rate');
    const timeSpent = document.getElementById('time-spent');
    const resetBtn = document.getElementById('reset-all-btn');
    const checkBtn = document.getElementById('check-answers-btn');
    const resultsBtn = document.getElementById('view-results-btn');
    const resultsPanel = document.getElementById('results-panel');
    const finalScore = document.getElementById('final-score');

    // Timer for time spent
    function updateTimer() {
        const now = new Date();
        const diff = Math.floor((now - state.startedAt) / 1000);
        state.timeSpent = diff;
        const minutes = Math.floor(diff / 60);
        const seconds = diff % 60;
        timeSpent.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
    }
    setInterval(updateTimer, 1000);

    // Update Progress Summary
    function updateProgressSummary() {
        let completed = 0;
        let totalCorrect = 0;
        let totalItems = 0;
        
        Object.values(state.activities).forEach(activity => {
            if (activity.completed) completed++;
            totalCorrect += activity.correct;
            totalItems += activity.total;
        });
        
        completedCount.textContent = completed;
        const accuracy = totalItems > 0 ? Math.round((totalCorrect / totalItems) * 100) : 0;
        accuracyRate.textContent = `${accuracy}%`;
        
        progressSteps.forEach((step, index) => {
            if (index < completed) {
                step.classList.add('completed');
                step.classList.remove('active');
            } else if (index === completed) {
                step.classList.add('active');
                step.classList.remove('completed');
            } else {
                step.classList.remove('active', 'completed');
            }
        });
    }

    // === ACTIVITY 1: SIMPLIFIED SKIN EXAM ===
    // These variables need to be accessible to multiple functions
    let activity1CheckedCount = 0;
    let activity1BackChecked = false;
    let activity1DermoscopeUsed = false;
    
    function initActivity1() {
        const checklistItems = document.querySelectorAll('#activity-1 .checklist-item');
        const findingsLog = document.getElementById('findings-log');
        const dermoscopeBtn = document.getElementById('dermoscope-btn');
        const dermoscopeResult = document.getElementById('dermoscope-result');
        const feedback = document.getElementById('feedback-1');
        const status = document.querySelector('#activity-1 .activity-status');
        
        // Reset variables when reinitializing
        activity1CheckedCount = 0;
        activity1BackChecked = false;
        activity1DermoscopeUsed = false;
        
        // Clear initial placeholder
        if (findingsLog.children.length === 1 && findingsLog.children[0].textContent.includes('Click checkboxes')) {
            findingsLog.innerHTML = '';
        }
        
        function checkActivity1Completion() {
            if (activity1CheckedCount === 9 && activity1DermoscopeUsed && !state.activities[1].completed) {
                completeActivity1();
            }
        }
        
        function completeActivity1() {
            state.activities[1].completed = true;
            state.activities[1].correct = 10;
            state.activities[1].score = 100;
            status.textContent = 'Completed';
            status.style.color = '#00b894';
            document.querySelector('#activity-1').classList.add('completed');
            feedback.classList.add('show');
            updateProgressSummary();
        }
        
        checklistItems.forEach(item => {
            item.addEventListener('click', function() {
                if (state.activities[1].completed) return;
                
                const region = this.dataset.region;
                const isSuspicious = this.classList.contains('suspicious');
                const isChecked = this.classList.contains('checked');
                
                if (!isChecked) {
                    // Check the item
                    this.classList.add('checked');
                    activity1CheckedCount++;
                    
                    // Add finding to log
                    const findingDiv = document.createElement('div');
                    findingDiv.className = 'finding-item';
                    
                    if (isSuspicious) {
                        findingDiv.innerHTML = `<strong style="color: var(--color-warning)">‚ö†Ô∏è ${this.querySelector('.checklist-text').textContent}:</strong> 7mm asymmetrical pigmented lesion with irregular borders`;
                        activity1BackChecked = true;
                    } else {
                        findingDiv.innerHTML = `<strong style="color: var(--color-success)">‚úì ${this.querySelector('.checklist-text').textContent}:</strong> Normal skin, no lesions`;
                    }
                    
                    findingsLog.appendChild(findingDiv);
                    findingsLog.scrollTop = findingsLog.scrollHeight;
                    
                    // Enable dermatoscope if back is checked
                    if (activity1BackChecked) {
                        dermoscopeBtn.disabled = false;
                        dermoscopeBtn.innerHTML = '<span>üî¨</span> Use Dermatoscope';
                    }
                    
                    // Check if we should complete the activity
                    checkActivity1Completion();
                }
            });
        });
        
        dermoscopeBtn.addEventListener('click', function() {
            if (!activity1BackChecked || activity1DermoscopeUsed) return;
            
            dermoscopeResult.classList.add('show');
            activity1DermoscopeUsed = true;
            this.disabled = true;
            this.innerHTML = '<span>‚úÖ</span> Dermatoscope Used';
            
            // Add dermatoscopy finding
            const dermFinding = document.createElement('div');
            dermFinding.className = 'finding-item';
            dermFinding.style.background = 'rgba(131, 128, 240, 0.1)';
            dermFinding.innerHTML = `<strong style="color: var(--color-accent)">üî¨ Dermatoscopy:</strong> Asymmetric pigment network, blue-white veil, irregular dots/globules, atypical vessels. Suspicious for melanoma.`;
            findingsLog.appendChild(dermFinding);
            findingsLog.scrollTop = findingsLog.scrollHeight;
            
            // Check completion
            checkActivity1Completion();
        });
    }

    // === ACTIVITY 2: DOCUMENTATION CHALLENGE ===
    function initActivity2() {
        const termItems = document.querySelectorAll('#activity-2 .term-item');
        const blankDropzones = document.querySelectorAll('#activity-2 .blank-dropzone');
        const feedback = document.getElementById('feedback-2');
        const status = document.querySelector('#activity-2 .activity-status');

        const correctPlacements = {
            'location': 'Left posterior shoulder',
            'size': '7mm in diameter',
            'color': 'Variegated brown, black, and red',
            'border': 'Irregular and notched',
            'evolution': 'Enlarged over 6 months'
        };

        let filledBlanks = 0;
        let correctPlacementsCount = 0;

        termItems.forEach(item => {
            item.addEventListener('dragstart', function(e) {
                e.dataTransfer.setData('text/plain', JSON.stringify({
                    term: this.dataset.term,
                    text: this.textContent
                }));
                this.classList.add('dragging');
            });

            item.addEventListener('dragend', function() {
                this.classList.remove('dragging');
            });
        });

        blankDropzones.forEach(zone => {
            zone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('hover');
            });

            zone.addEventListener('dragleave', function() {
                this.classList.remove('hover');
            });

            zone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('hover');

                if (this.classList.contains('filled')) return;

                const data = JSON.parse(e.dataTransfer.getData('text/plain'));
                const targetBlank = this.dataset.blank;

                const isCorrect = correctPlacements[targetBlank] === data.text;

                this.textContent = data.text;
                if (isCorrect) {
                    this.classList.add('filled');
                    correctPlacementsCount++;
                } else {
                    this.classList.add('wrong');
                }

                const originalItem = document.querySelector(`#activity-2 .term-item[data-term="${data.term}"]`);
                if (originalItem) {
                    originalItem.classList.add('placed');
                    originalItem.style.opacity = '0.5';
                    originalItem.style.cursor = 'default';
                }

                filledBlanks++;

                if (filledBlanks === 5) {
                    state.activities[2].completed = true;
                    state.activities[2].correct = correctPlacementsCount;
                    state.activities[2].score = Math.round((correctPlacementsCount / 5) * 100);
                    status.textContent = 'Completed';
                    status.style.color = '#00b894';
                    document.querySelector('#activity-2').classList.add('completed');
                    feedback.classList.add('show');
                    updateProgressSummary();
                }
            });
        });
    }

    // === ACTIVITY 3: PATIENT EDUCATION SCENARIOS ===
    function initActivity3() {
        const educationOptions = document.querySelectorAll('#activity-3 .education-option');
        const prevBtn = document.getElementById('prev-scenario');
        const nextBtn = document.getElementById('next-scenario');
        const scenarioNumber = document.getElementById('scenario-number');
        const feedback = document.getElementById('feedback-3');
        const status = document.querySelector('#activity-3 .activity-status');

        const correctAnswers = {1: '1', 2: '1', 3: '1'};
        const scenarioAnswers = {1: null, 2: null, 3: null};

        function updateScenario() {
            document.querySelectorAll('#activity-3 .scenario-container').forEach(container => {
                container.style.display = 'none';
            });

            const currentContainer = document.getElementById(`scenario-${state.currentScenario}`);
            if (currentContainer) currentContainer.style.display = 'block';

            scenarioNumber.textContent = state.currentScenario;
            prevBtn.disabled = state.currentScenario === 1;
            nextBtn.disabled = state.currentScenario === 3;

            educationOptions.forEach(option => {
                if (option.dataset.scenario === state.currentScenario.toString()) {
                    option.classList.remove('selected', 'wrong');
                }
            });
        }

        updateScenario();

        educationOptions.forEach(option => {
            option.addEventListener('click', function() {
                if (state.activities[3].completed) return;

                const scenarioId = parseInt(this.dataset.scenario);
                const optionId = this.dataset.option;

                if (scenarioId !== state.currentScenario) return;

                educationOptions.forEach(opt => {
                    if (opt.dataset.scenario === scenarioId.toString()) {
                        opt.classList.remove('selected', 'wrong');
                    }
                });

                this.classList.add('selected');

                if (optionId === correctAnswers[scenarioId]) {
                    scenarioAnswers[scenarioId] = true;

                    setTimeout(() => {
                        if (state.currentScenario < 3) {
                            state.currentScenario++;
                            updateScenario();
                        } else {
                            checkAllScenariosAnswered();
                        }
                    }, 800);
                } else {
                    this.classList.add('wrong');
                    scenarioAnswers[scenarioId] = false;
                }
            });
        });

        function checkAllScenariosAnswered() {
            const allAnswered = Object.values(scenarioAnswers).every(answer => answer !== null);
            const allCorrect = Object.values(scenarioAnswers).every(answer => answer === true);

            if (allAnswered) {
                state.activities[3].completed = true;
                state.activities[3].correct = allCorrect ? 3 : 0;
                state.activities[3].score = allCorrect ? 100 : 0;
                status.textContent = 'Completed';
                status.style.color = allCorrect ? '#00b894' : '#e17055';
                document.querySelector('#activity-3').classList.add('completed');
                feedback.classList.add('show');
                updateProgressSummary();
            }
        }

        prevBtn.addEventListener('click', function() {
            if (state.currentScenario > 1) {
                state.currentScenario--;
                updateScenario();
            }
        });

        nextBtn.addEventListener('click', function() {
            if (state.currentScenario < 3) {
                state.currentScenario++;
                updateScenario();
            }
        });
    }

    // === ACTIVITY 4: BIOPSY RESULT INTERPRETATION ===
    function initActivity4() {
        const interpretationOptions = document.querySelectorAll('#activity-4 .interpretation-option');
        const feedback = document.getElementById('feedback-4');
        const status = document.querySelector('#activity-4 .activity-status');

        const correctActions = {1: 'wide-excision', 2: 'mohs'};
        let report1Answered = false;
        let report2Answered = false;

        interpretationOptions.forEach(option => {
            option.addEventListener('click', function() {
                if (state.activities[4].completed) return;

                const reportId = parseInt(this.dataset.report);
                const action = this.dataset.action;

                interpretationOptions.forEach(opt => {
                    if (opt.dataset.report === reportId.toString()) {
                        opt.classList.remove('selected', 'wrong');
                    }
                });

                this.classList.add('selected');

                if (action === correctActions[reportId]) {
                    if (reportId === 1) report1Answered = true;
                    if (reportId === 2) report2Answered = true;

                    if (report1Answered && report2Answered) {
                        state.activities[4].completed = true;
                        state.activities[4].correct = 2;
                        state.activities[4].score = 100;
                        status.textContent = 'Completed';
                        status.style.color = '#00b894';
                        document.querySelector('#activity-4').classList.add('completed');
                        feedback.classList.add('show');
                        updateProgressSummary();
                    }
                } else {
                    this.classList.add('wrong');
                }
            });
        });
    }

    // Reset All Activities
    function resetAllActivities() {
        Object.keys(state.activities).forEach(key => {
            state.activities[key] = {
                completed: false,
                correct: 0,
                total: parseInt(key) === 1 ? 10 : parseInt(key) === 2 ? 5 : parseInt(key) === 3 ? 3 : 2,
                score: 0
            };
        });

        state.currentScenario = 1;
        state.scenarioAnswers = {};

        activityCards.forEach(card => {
            card.classList.remove('completed');
            const status = card.querySelector('.activity-status');
            if (status) {
                status.textContent = 'Not Started';
                status.style.color = '';
            }
            const feedback = card.querySelector('.feedback-container');
            if (feedback) feedback.classList.remove('show');
        });

        // Reset Activity 1
        document.querySelectorAll('#activity-1 .checklist-item').forEach(item => {
            item.classList.remove('checked');
        });
        document.getElementById('findings-log').innerHTML = '<div class="finding-item" style="color: var(--color-muted);">Click checkboxes to examine body regions. Findings will appear here.</div>';
        document.getElementById('dermoscope-btn').disabled = true;
        document.getElementById('dermoscope-btn').innerHTML = '<span>üî¨</span> Use Dermatoscope';
        document.getElementById('dermoscope-result').classList.remove('show');
        
        // Reset Activity 1 variables
        activity1CheckedCount = 0;
        activity1BackChecked = false;
        activity1DermoscopeUsed = false;

        // Reset Activity 2
        document.querySelectorAll('#activity-2 .blank-dropzone').forEach(zone => {
            zone.classList.remove('filled', 'wrong', 'hover');
            zone.textContent = '';
        });
        document.querySelectorAll('#activity-2 .term-item').forEach(item => {
            item.classList.remove('placed', 'dragging');
            item.style.opacity = '1';
            item.style.cursor = 'grab';
        });

        // Reset Activity 3
        document.querySelectorAll('#activity-3 .education-option').forEach(option => {
            option.classList.remove('selected', 'wrong');
        });
        state.currentScenario = 1;
        document.getElementById('scenario-number').textContent = '1';
        document.getElementById('prev-scenario').disabled = true;
        document.getElementById('next-scenario').disabled = false;
        document.querySelectorAll('#activity-3 .scenario-container').forEach((container, index) => {
            container.style.display = index === 0 ? 'block' : 'none';
        });

        // Reset Activity 4
        document.querySelectorAll('#activity-4 .interpretation-option').forEach(option => {
            option.classList.remove('selected', 'wrong');
        });

        if (resultsPanel) resultsPanel.classList.remove('show');
        updateProgressSummary();
    }

    // Check All Answers
    function checkAllAnswers() {
        // Activity 1
        if (!state.activities[1].completed) {
            const checklistItems = document.querySelectorAll('#activity-1 .checklist-item');
            const findingsLog = document.getElementById('findings-log');
            const dermoscopeBtn = document.getElementById('dermoscope-btn');
            const dermoscopeResult = document.getElementById('dermoscope-result');
            
            // Check all items
            checklistItems.forEach(item => {
                if (!item.classList.contains('checked')) {
                    item.classList.add('checked');
                }
            });
            
            // Set the variables
            activity1CheckedCount = 9;
            activity1BackChecked = true;
            activity1DermoscopeUsed = true;
            
            const findings = [
                {region: 'Head & Scalp', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Neck', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Chest', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Abdomen', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Back ‚ö†Ô∏è', finding: '7mm asymmetrical pigmented lesion with irregular borders', type: 'suspicious'},
                {region: 'Left Arm', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Right Arm', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Left Leg', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Right Leg', finding: 'Normal skin, no lesions', type: 'normal'},
                {region: 'Dermatoscopy', finding: 'Asymmetric pigment network, blue-white veil, irregular dots/globules, atypical vessels. Suspicious for melanoma.', type: 'dermoscopy'}
            ];
            
            findingsLog.innerHTML = '';
            findings.forEach(f => {
                const div = document.createElement('div');
                div.className = 'finding-item';
                let color = 'var(--color-success)';
                let icon = '‚úì';
                if (f.type === 'suspicious') {
                    color = 'var(--color-warning)';
                    icon = '‚ö†Ô∏è';
                } else if (f.type === 'dermoscopy') {
                    color = 'var(--color-accent)';
                    icon = 'üî¨';
                }
                div.innerHTML = `<strong style="color: ${color}">${icon} ${f.region}:</strong> ${f.finding}`;
                if (f.type === 'dermoscopy') div.style.background = 'rgba(131, 128, 240, 0.1)';
                findingsLog.appendChild(div);
            });
            
            dermoscopeBtn.disabled = true;
            dermoscopeBtn.innerHTML = '<span>‚úÖ</span> Dermatoscope Used';
            dermoscopeResult.classList.add('show');
            
            // Mark as completed
            state.activities[1].completed = true;
            state.activities[1].correct = 10;
            state.activities[1].score = 100;
            document.querySelector('#activity-1 .activity-status').textContent = 'Completed';
            document.querySelector('#activity-1 .activity-status').style.color = '#00b894';
            document.querySelector('#activity-1').classList.add('completed');
            document.getElementById('feedback-1').classList.add('show');
        }

        // Activity 2
        if (!state.activities[2].completed) {
            const correctPlacements = {
                'location': 'Left posterior shoulder',
                'size': '7mm in diameter',
                'color': 'Variegated brown, black, and red',
                'border': 'Irregular and notched',
                'evolution': 'Enlarged over 6 months'
            };

            Object.keys(correctPlacements).forEach(blank => {
                const zone = document.querySelector(`#activity-2 .blank-dropzone[data-blank="${blank}"]`);
                const term = document.querySelector(`#activity-2 .term-item[data-term="${blank}"]`);
                if (zone && term) {
                    zone.textContent = correctPlacements[blank];
                    zone.classList.add('filled');
                    term.classList.add('placed');
                    term.style.opacity = '0.5';
                    term.style.cursor = 'default';
                }
            });

            state.activities[2].completed = true;
            state.activities[2].correct = 5;
            state.activities[2].score = 100;
            document.querySelector('#activity-2 .activity-status').textContent = 'Completed';
            document.querySelector('#activity-2 .activity-status').style.color = '#00b894';
            document.querySelector('#activity-2').classList.add('completed');
            document.getElementById('feedback-2').classList.add('show');
        }

        // Activity 3
        if (!state.activities[3].completed) {
            for (let i = 1; i <= 3; i++) {
                const correctOption = document.querySelector(`#activity-3 .education-option[data-scenario="${i}"][data-option="1"]`);
                if (correctOption) correctOption.classList.add('selected');
            }

            state.activities[3].completed = true;
            state.activities[3].correct = 3;
            state.activities[3].score = 100;
            document.querySelector('#activity-3 .activity-status').textContent = 'Completed';
            document.querySelector('#activity-3 .activity-status').style.color = '#00b894';
            document.querySelector('#activity-3').classList.add('completed');
            document.getElementById('feedback-3').classList.add('show');
        }

        // Activity 4
        if (!state.activities[4].completed) {
            document.querySelector('#activity-4 .interpretation-option[data-report="1"][data-action="wide-excision"]').classList.add('selected');
            document.querySelector('#activity-4 .interpretation-option[data-report="2"][data-action="mohs"]').classList.add('selected');

            state.activities[4].completed = true;
            state.activities[4].correct = 2;
            state.activities[4].score = 100;
            document.querySelector('#activity-4 .activity-status').textContent = 'Completed';
            document.querySelector('#activity-4 .activity-status').style.color = '#00b894';
            document.querySelector('#activity-4').classList.add('completed');
            document.getElementById('feedback-4').classList.add('show');
        }

        updateProgressSummary();
    }

    // View Final Results
    function viewFinalResults() {
        let totalScore = 0;
        let activityCount = 0;

        Object.values(state.activities).forEach(activity => {
            if (activity.completed) {
                totalScore += activity.score;
                activityCount++;
            }
        });

        const averageScore = activityCount > 0 ? Math.round(totalScore / activityCount) : 0;
        finalScore.textContent = `${averageScore}%`;
        resultsPanel.classList.add('show');
        resultsPanel.scrollIntoView({ behavior: 'smooth' });
    }

    // Initialize all activities
    initActivity1();
    initActivity2();
    initActivity3();
    initActivity4();

    // Event listeners
    resetBtn.addEventListener('click', resetAllActivities);
    checkBtn.addEventListener('click', checkAllAnswers);
    resultsBtn.addEventListener('click', viewFinalResults);

    // Initial progress update
    updateProgressSummary();
});
</script>
</body>
</html>
